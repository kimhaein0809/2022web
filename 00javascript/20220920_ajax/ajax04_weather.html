<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ajax04_weather</title>
    <link rel="stylesheet" href="css/reset.css">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
</head>
<body>
    <div class="wInfo">
        <h1 class="city">seoul</h1>
        <div class="wrap">
            <p class="w_id">clear</p>
            <div class="img">icon</div>
            <p class="temp">22</p>
        </div>
    </div>
<script>
    const myid = "a63550fdd0414822423aed5bab16dc89";
    let loc = "seoul";
    $.ajax({
        url:"https://api.openweathermap.org/data/2.5/weather?q="+ loc +"&appid="+myid+"&units=metric",
        dataType:"json",
        success:locData
    })
    function locData(data){
        console.log(data)
        let city = data.name;
        let weather = data.weather[0].description
        let icon = data.weather[0].icon;
        let iUrl = `<img src="https://openweathermap.org/img/wn/${icon}@2x.png">`
        let temp = data.main.temp+"&#x2103";
        let tempMa = data.main.temp_max;
        let tempMi = data.main.temp_min;

        $(".city").html(city);
        $(".w_id").html(weather);
        $(".img").html(iUrl);
        $(".temp").html(temp);
        $(".max").html(tempMa);
        $(".min").html(tempMi);

    }
</script>
</body>
</html>